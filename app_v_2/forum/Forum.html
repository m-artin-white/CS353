<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forum</title>
    <link rel="stylesheet" type="text/css" href="styleForum.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    
</head>


<body>
    <header>
        <div class="inner">
            <div class="logo">
                <div>
                    <h1>StatsSummoner.com</h1>
                </div>
            </div>

            <nav>
                <li><span><a href="../home.html">Home</a></span></li>
                <li><span><a href="../indexLOL.html">League Of Legends</a></span></li>
                <li><span><a href="../indexTFT.html">Teamfight Tactics</a></span></li>
                <li><span><a href="Forum.html">Forum</a></span></li>
                <li><span><a href="">Contact</a></span></li>
                <li><span><a href="../login.html" class="button">Log-in</a></span></li>
            </nav>
        </div>


        <h1>Message Board</h1>
        <form id="message-form">
            <input type="text" id="message-input" placeholder="Type a message">
            <button type="submit">Send</button>
        </form>
        <div id="messages"></div>
    

   

        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
            import { getDatabase, ref, push, onValue, orderByChild, serverTimestamp } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js';
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {

                apiKey: "AIzaSyAH5gQt-ikaV10VUJZvIC-xfZIn2IGC3oY",
                authDomain: "statsummoner.firebaseapp.com",
                databaseURL: "https://statsummoner-default-rtdb.europe-west1.firebasedatabase.app",
                projectId: "statsummoner",
                storageBucket: "statsummoner.appspot.com",
                messagingSenderId: "315016674830",
                appId: "1:315016674830:web:3b4d2d8e421dbdedbd465f",
                measurementId: "G-9VRZWM6VCF"

};



            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const db = getDatabase(app);

            
            const messageForm = document.getElementById('message-form');
            const messageInput = document.getElementById('message-input');
            const messagesDiv = document.getElementById('messages');

            messageForm.addEventListener('submit', e => {
                e.preventDefault();
                const message = messageInput.value;

                // Push a new message to the Realtime Database
                push(ref(db, 'messages'), {
                    text: message,
                    timestamp: serverTimestamp()
                });

                messageInput.value = '';
            });

            // Listen for messages in Real-time
            onValue(orderByChild(ref(db, 'messages'), 'timestamp'), snapshot => {
                messagesDiv.innerHTML = '';
                snapshot.forEach(childSnapshot => {
                    const message = childSnapshot.val().text;
                    const messageElement = document.createElement('div');
                    messageElement.textContent = message;
                    messagesDiv.appendChild(messageElement);
                });
            });



    </script>


        <!-- <script src="Forum.js"></script> -->

    </body>
 </html>
